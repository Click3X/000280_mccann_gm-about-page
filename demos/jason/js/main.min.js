function onmousewheel(e){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();var e=window.event||e;var t=Math.max(-1,Math.min(1,e.wheelDeltaY||-e.detail));var n=e.wheelDeltaY||e.clientY*.5*t;if(!main.isscrolling&&Math.abs(n)>30){doscroll(t)}return false}function ontouchstart(e){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();main.touchstarty=e.changedTouches[0].clientY}function ontouchend(e){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();var t=e.changedTouches[0].clientY-main.touchstarty;var n=t>0?1:-1;if(!main.isscrolling&&Math.abs(t)>30){doscroll(n)}return false}function doscroll(e){console.log("doscroll");main.isscrolling=true;if(e<0){if(main.currentsection.nextsubsection()==false){nextsection()}else{initendscroll()}}else{if(main.currentsection.previoussubsection()==false){previoussection()}else{initendscroll()}}}function nextsection(){if(main.currentsectionindex<main.sections.length-1){main.currentsectionindex++;scrolltosection(main.currentsectionindex)}else{endscroll()}}function previoussection(){if(main.currentsectionindex>0){main.currentsectionindex--;scrolltosection(main.currentsectionindex)}else{endscroll()}}function scrolltosection(e){main.currentsectionindex=e;main.currentsection=main.sections[main.currentsectionindex];main.scrollpos=-main.currentsection.el.offsetTop;main.inner.style.top=main.scrollpos+"px";initendscroll()}function initendscroll(){clearTimeout(main.endto);main.endto=setTimeout(endscroll,1e3)}function endscroll(){main.isscrolling=false}function getelement(e){return document.getElementById(e)}function getchildrenbyclassname(e,t){var n=[];for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(i.className&&i.className.indexOf(t)>=0){n.push(i)}}return n}function addClass(e,t){if(e.className.indexOf(t)==-1)e.className+=" "+t}function removeClass(e,t){e.className=e.className.replace(t,"")}var main={};main.padding=0;main.scrollpos=0;main.sections=[];main.currentsectionindex=0;main.currentDeltaY=0;main.isscrolling=false;(function(){function t(){main.inner=getelement("c3xgm-about-inner");main.container=getelement("c3xgm-about-content");var t=getchildrenbyclassname(main.inner,"c3xgm-about-section");for(var n=0;n<t.length;n++)main.sections.push(new e(t[n]));main.currentsection=main.sections[main.currentsectionindex];if(main.container.addEventListener){main.container.addEventListener("mousewheel",onmousewheel,false);main.container.addEventListener("DOMMouseScroll",onmousewheel,false)}else main.container.attachEvent("onmousewheel",onmousewheel);document.addEventListener("touchmove",function(e){e.preventDefault()},false);main.container.addEventListener("touchstart",ontouchstart,false);main.container.addEventListener("touchend",ontouchend,false)}var e=function(e){var t=this;t.currentsubsection=0;t.el=e;t.subsection_ul=t.el.childNodes[3];t.subsections=getchildrenbyclassname(t.subsection_ul,"c3xgm-about-subsection");t.subsection_ul.style.width=t.subsections.length*100+"%";for(var n=0;n<t.subsections.length;n++)t.subsections[n].style.width=100/t.subsections.length+"%";t.islastsubsection=function(){return t.currentsubsection==t.subsections.length-1};t.gotosubsection=function(e){t.subsection_ul.style.left=-(t.currentsubsection*100)+"%"};t.nextsubsection=function(){if(t.islastsubsection()){return false}else{t.currentsubsection++;t.gotosubsection(t.currentsubsection)}};t.previoussubsection=function(){if(t.currentsubsection==0){return false}else{t.currentsubsection--;t.gotosubsection(t.currentsubsection)}}};if(window.addEventListener){window.addEventListener("DOMContentLoaded",t,false)}else{window.attachEvent("onload",t)}})()